(window.webpackJsonp=window.webpackJsonp||[]).push([[4,3],{460:function(t,e,n){"use strict";n.r(e);n(27),n(29);var o={name:"BookingDetail",props:{bookingId:{type:String,default:null},stationId:{type:Number,default:null}},data:function(){return{drawer:!1,detail:null,loading:!1}},watch:{bookingId:{immediate:!0,handler:function(){this.bookingId&&(this.fetchBookingDetails(),this.drawer=!0)}},drawer:function(){this.drawer||(this.$emit("onClose"),this.detail=null)}},methods:{fetchBookingDetails:function(){var t=this;this.loading=!0,this.$axios.get("/stations/".concat(this.stationId,"/bookings/").concat(this.bookingId)).then((function(e){t.loading=!1,t.detail=e.data}))}}},r=n(88),l=n(110),c=n.n(l),d=n(456),v=n(207),f=n(489),m=n(208),h=n(131),k=n(174),w=n(492),_=n(461),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-navigation-drawer",{attrs:{right:"",temporary:"",app:"",width:500},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-app-bar",{attrs:{dark:"",color:"primary",dense:""}},[t._v("\n    Booking Ref#"+t._s(t.bookingId)+"\n  ")]),t._v(" "),t.loading?n("v-flex",[n("v-progress-circular",{attrs:{indeterminate:""}})],1):t._e(),t._v(" "),t.detail?n("v-flex",{attrs:{sm12:""}},[n("v-list",[t._l(t.detail,(function(e,o){return[n("v-list-item",{key:o},[n("v-list-item-content",[n("v-list-item-subtitle",{staticClass:"overline"},[t._v("\n              "+t._s(t._.startCase(o))+"\n            ")]),t._v(" "),n("v-list-item-title",{staticClass:"pt-2"},[t._.includes(["startDate","endDate"],o)?[t._v("\n                "+t._s(t._f("moment")(e,"LLLL"))+"\n              ")]:[t._v("\n                "+t._s(e)+"\n              ")]],2)],1)],1),t._v(" "),n("v-divider",{key:"divider"+o})]}))],2)],1):t.loading||t.detail?t._e():n("v-flex",[t._v("\n    Booking details not available.\n  ")])],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VAppBar:d.a,VDivider:v.a,VFlex:f.a,VList:m.a,VListItem:h.a,VListItemContent:k.a,VListItemSubtitle:k.b,VListItemTitle:k.c,VNavigationDrawer:w.a,VProgressCircular:_.a})},493:function(t,e,n){"use strict";n.r(e);n(10),n(9),n(12),n(3),n(14),n(11),n(15);var o=n(2);n(48),n(29);function r(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?r(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):r(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var c={name:"IndexPage",components:{bookingDetailDrawer:n(460).default},data:function(){return{stationId:null,loading:!1,viewType:"week",currentDate:(new Date).toISOString().substr(0,10),bookings:[],label:null,bookingDetailId:null}},created:function(){this.fetchEvents(this.stationId)},methods:{onCalendarChange:function(t){this.label=t.start.date===t.end.date?this.$moment(t.start.date).format("LL"):this.$moment(t.start.date).format("LL")+" - "+this.$moment(t.end.date).format("LL")},fetchEvents:function(t){var e=this;t?this.$axios.get("/stations/".concat(t)).then((function(t){e.bookings=e._.map(t.data.bookings,(function(t){return l(l({},t),{},{name:"Ref#".concat(t.id," - ").concat(t.customerName," - ").concat(e.$moment(t.startDate).format("hh:mm A")),start:new Date(t.startDate),end:new Date(t.endDate),timed:e.$moment(t.startDate).format("LL")===e.$moment(t.endDate).format("LL")})}))})):this.bookings=[]}}},d=n(88),v=n(110),f=n.n(v),m=n(462),h=n(494),k=n(491),w=n(465),_=n(459),y=n(451),D=n(489),C=n(205),I=n(275),x=n(490),V=n(454),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"",wrap:""}},[n("v-img",{attrs:{src:"https://roadsurfer.com/wp-content/uploads/roadsurfing-1.jpg",height:450,"aspect-ratio":"1.33"}},[n("v-container",{staticClass:"full-height"},[n("v-layout",{staticClass:"full-height",attrs:{row:"",wrap:"","align-center":""}},[n("v-flex",{attrs:{sm4:""}},[n("v-card",{staticClass:"pa-4",attrs:{outlined:""}},[n("v-card-title",[n("h1",{staticClass:"pb-3 font-weight-bold"},[t._v("Station Bookings")])]),t._v(" "),n("v-card-text",[n("select-stations",{attrs:{outlined:"",label:"Station",placeholder:"Please choose","persistent-placeholder":"",clearable:"",hint:"Type at least 3 characters to search","persistent-hint":""},on:{input:function(e){return t.fetchEvents(e)}},model:{value:t.stationId,callback:function(e){t.stationId=e},expression:"stationId"}})],1)],1)],1)],1)],1)],1),t._v(" "),n("v-container",{staticClass:"mt-n10"},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{sm12:""}},[n("v-card",{attrs:{outlined:"",set:t.bookingCount=t._.size(t.bookings)}},[n("v-card-text",[n("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[n("v-flex",{attrs:{shrink:""}},[n("v-btn",{staticClass:"ma-2",attrs:{icon:""},on:{click:function(e){return t.$refs.calendar.prev()}}},[n("v-icon",[t._v("mdi-chevron-left")])],1),t._v("\n                "+t._s(t.label)+"\n                "),n("v-btn",{staticClass:"ma-2",attrs:{icon:""},on:{click:function(e){return t.$refs.calendar.next()}}},[n("v-icon",[t._v("mdi-chevron-right")])],1)],1),t._v(" "),t.bookingCount?n("v-flex",[t._v("\n                We have found "+t._s(t.bookingCount)+"\n                "+t._s(t.bookingCount>1?"bookings":"booking")+" on the\n                specified station\n              ")]):t._e(),t._v(" "),n("v-spacer"),t._v(" "),n("v-flex",{attrs:{shrink:""}},[n("v-btn-toggle",{attrs:{mandatory:""},model:{value:t.viewType,callback:function(e){t.viewType=e},expression:"viewType"}},[n("v-btn",{attrs:{value:"week"}},[t._v("Week")]),t._v(" "),n("v-btn",{attrs:{value:"day"}},[t._v("Day")])],1)],1)],1),t._v(" "),n("v-calendar",{ref:"calendar",attrs:{color:"primary",events:t.bookings,type:t.viewType,"event-overlap-mode":"stack"},on:{change:t.onCalendarChange,"click:event":function(e){return t.bookingDetailId=e.event.id},"click:date":function(e){return t.viewType="day"}},model:{value:t.currentDate,callback:function(e){t.currentDate=e},expression:"currentDate"}})],1)],1)],1),t._v(" "),n("booking-detail-drawer",{attrs:{"booking-id":t.bookingDetailId,"station-id":t.stationId},on:{onClose:function(e){t.bookingDetailId=null}}})],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;f()(component,{SelectStations:n(274).default,BookingDetailDrawer:n(460).default}),f()(component,{VBtn:m.a,VBtnToggle:h.a,VCalendar:k.a,VCard:w.a,VCardText:_.a,VCardTitle:_.b,VContainer:y.a,VFlex:D.a,VIcon:C.a,VImg:I.a,VLayout:x.a,VSpacer:V.a})}}]);